#N canvas 392 264 666 421 10;
#X obj 93 135 inlet~;
#X obj 354 73 inlet;
#X obj 498 75 inlet;
#X obj 503 108 clip 0 1;
#X obj 224 329 outlet~;
#X obj 284 220 +~;
#X obj 280 264 +~;
#X obj 440 109 * -1;
#X text 64 379 y[n] = g*x[n] + x[n-d] - g*y[n-d];
#X obj 148 190 *~ \$3;
#X obj 203 138 *~ -\$3;
#X text 37 59 DEREK KWAN \, 2016;
#X text 59 403 where x = input \, y=output \, 0<=g<=1;
#X text 483 206 arg1: max delay len (ms);
#X text 481 226 arg2/in2: delay len (ms);
#X text 480 245 arg3/in3: gain g;
#X text 35 26 ALLPASS_VAN~ - pd-vanilla all-pass filter;
#X obj 45 243 delwrite~ \$0-apf-ff \$1;
#X obj 194 103 delread~ \$0-apf-fb \$2;
#X obj 319 156 delread~ \$0-apf-ff \$2;
#X obj 286 308 delwrite~ \$0-apf-fb \$1;
#X connect 0 0 9 0;
#X connect 0 0 17 0;
#X connect 1 0 18 0;
#X connect 1 0 19 0;
#X connect 2 0 3 0;
#X connect 3 0 7 0;
#X connect 3 0 9 1;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 6 0 20 0;
#X connect 7 0 10 1;
#X connect 9 0 5 0;
#X connect 10 0 6 1;
#X connect 18 0 10 0;
#X connect 19 0 5 1;
